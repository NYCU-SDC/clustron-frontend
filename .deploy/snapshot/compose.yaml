services:
  frontend:
    image: "nycusdc/clustron-frontend:$VERSION"
    container_name: clustron-frontend-$VERSION
    networks:
      - traefik
    environment:
      HOST: 0.0.0.0
    labels:
      - "vector.enable=true"
      - "traefik.enable=true"
      - "traefik.http.routers.clustron-frontend-$VERSION.rule=Host(`$VERSION.clustron.sdc.nycu.club`)"
      - "traefik.http.routers.clustron-frontend-$VERSION.entrypoints=websecure"
      - "traefik.http.routers.clustron-frontend-$VERSION.tls=true"
      - "traefik.http.routers.clustron-frontend-$VERSION.tls.certresolver=cloudflare"

networks:
  traefik:
    external: true
